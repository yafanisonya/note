(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{395:function(t,a,e){"use strict";e.r(a);var s=e(42),i=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"jquery绑定事件与事件代理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jquery绑定事件与事件代理"}},[t._v("#")]),t._v(" jQuery绑定事件与事件代理")]),t._v(" "),e("blockquote",[e("p",[t._v("在1.7之前的版本中jQuery处理事件有多个方法：live、bind、degelate（作用各不相同)。后来统一的使用on/off方法")])]),t._v(" "),e("h3",{attrs:{id:"on"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#on"}},[t._v("#")]),t._v(" .on()")]),t._v(" "),e("p",[e("code",[t._v(".on( events [,selector ] [,data ], handler(eventObject) )")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v('events：一个或多个空格分隔的事件类型和可选的命名空间，或仅仅是命名空间，比如"click", "keydown.myPlugin", 或者 ".myPlugin"')])]),t._v(" "),e("li",[e("p",[t._v("selector：一个选择器字符串，用于过滤出被选中的元素中能触发事件的后代元素。如果选择器是 null 或者忽略了该选择器，那么被选中的元素总是能触发事件")])]),t._v(" "),e("li",[e("p",[t._v("data：当一个事件被触发时，要传递给事件处理函数的event.data")])]),t._v(" "),e("li",[e("p",[t._v("handler(eventObject)：事件被触发时，执行的函数。若该函数只是要执行return false的话，那么该参数位置可以直接简写成 false")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<div class="box">\n  <ul>\n    <li>1</li>\n    <li>2</li>\n    <li>3</li>\n    <li>4</li>\n  </ul>\n</div>\n<input id="ipt" type="text"> <button id="btn">添加</button>\n<div id="wrap">\n</div>\n')])])]),e("p",[t._v("绑定事件：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  $('ul li').on('click',function(){\n    console.log($(this).text())    //点击输出\n  })  \n")])])]),e("p",[e("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/16155751-a1f2758afc654f14.gif?imageMogr2/auto-orient/strip",alt:"on"}})]),t._v(" "),e("h4",{attrs:{id:"新增元素"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#新增元素"}},[t._v("#")]),t._v(" 新增元素")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$('#btn').on('click', function(){\n  var value = $('#ipt').val()      //获取input值\n  $('.box>ul').append('<li>'+value+'</li>')      //ul新增li，value为input值\n})\n")])])]),e("p",[e("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/16155751-8cda8eefa7b8f0b9.gif?imageMogr2/auto-orient/strip",alt:"新增"}})]),t._v(" "),e("p",[t._v("查看绑定事件对新增元素是否生效")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/16155751-be6b4401bfc6c8e6.gif?imageMogr2/auto-orient/strip",alt:"未生效"}})]),t._v(" "),e("p",[t._v("可以清楚的看到我们直接给li添加事件，会导致后来新增的DOMli点击没有效果，这个和javaScript的点击事件和事件代理是一样，可以使用事件代理来处理这个点击事件")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("//事件代理\n$('.box ul').on('click', 'li', function(){\n  console.log($(this).text());\n})\n//上面代码相当于原生 js 的\ndocument.querySelector('.box ul').addEventListener('click', function(e){\n    if(e.target.tagName.toLowerCase() === 'li'){\n        //do something\n    }\n})\n")])])]),e("p",[e("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/16155751-c34a42002239fadc.gif?imageMogr2/auto-orient/strip",alt:"事件代理"}})]),t._v(" "),e("h3",{attrs:{id:"off"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#off"}},[t._v("#")]),t._v(" .off()")]),t._v(" "),e("p",[e("code",[t._v(".off( events [, selector ] [, handler ] )")])]),t._v(" "),e("blockquote",[e("p",[t._v("移除一个事件处理函数")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$('.box li').off('click')\n")])])])])}),[],!1,null,null,null);a.default=i.exports}}]);